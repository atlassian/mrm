<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-03-25 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170325" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Mock Repository Manager Servlet &#x2013; CPD Results</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/mojohaus/mojo-parent">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../../" id="bannerLeft">
                                                                                                <img src="../../../images/mojo_logo.png"  alt="MojoHaus"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="../../../" title="MojoHaus">
        MojoHaus</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../../../mojo-parent" title="MojoHaus Parent">
        MojoHaus Parent</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../index.html" title="Mock Repository Manager">
        Mock Repository Manager</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="Mock Repository Manager Servlet">
        Mock Repository Manager Servlet</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">CPD Results</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2017-03-25</li>
              <li id="projectVersion" class="pull-right">
                      <span class="divider">|</span>
                    Version: 1.1.0
        </li>
            
                                    
    <li class="pull-right">
                      <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Parent Project</li>
                              
      <li>
  
                          <a href="../index.html" title="Mock Repository Manager">
          <span class="none"></span>
        Mock Repository Manager</a>
            </li>
                              <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                              
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-down"></span>
        Project Reports</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="checkstyle.html" title="Checkstyle">
          <span class="none"></span>
        Checkstyle</a>
            </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="JavaDocs">
          <span class="none"></span>
        JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="testapidocs/index.html" title="Test JavaDocs">
          <span class="none"></span>
        Test JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="xref/index.html" title="Source Xref">
          <span class="none"></span>
        Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="xref-test/index.html" title="Test Source Xref">
          <span class="none"></span>
        Test Source Xref</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>CPD</a>
          </li>
                    
      <li>
  
                          <a href="pmd.html" title="PMD">
          <span class="none"></span>
        PMD</a>
            </li>
                    
      <li>
  
                          <a href="surefire-report.html" title="Surefire Report">
          <span class="none"></span>
        Surefire Report</a>
            </li>
                    
      <li>
  
                          <a href="cobertura/index.html" title="Cobertura Test Coverage">
          <span class="none"></span>
        Cobertura Test Coverage</a>
            </li>
                    
      <li>
  
                          <a href="taglist.html" title="Tag List">
          <span class="none"></span>
        Tag List</a>
            </li>
              </ul>
        </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="www.mojohaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.3.2.</p></div>
<div class="section">
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L316">316</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L456">456</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                String[] versions = (String[]) pluginVersions.toArray( new String[pluginVersions.size()] );
                Arrays.sort( versions, new VersionComparator() );
                MavenXpp3Reader reader = new MavenXpp3Reader();
                for ( int j = versions.length - 1; j &gt;= 0; j-- )
                {
                    InputStream inputStream = null;
                    try
                    {
                        inputStream = get( new Artifact( groupId, artifactId, versions[j], &quot;pom&quot; ) );
                        Model model = reader.read( new XmlStreamReader( inputStream ) );
                        if ( model == null || !&quot;maven-plugin&quot;.equals( model.getPackaging() ) )
                        {
                            continue;
                        }
                        Plugin plugin = new Plugin();
                        plugin.setArtifactId( artifactId );
                        plugin.setName( model.getName() );
                        // TODO proper goal-prefix determination
                        // ugh! this is incredibly hacky and does not handle some fool that sets the goal prefix in
                        // a parent pom... ok unlikely, but stupid is as stupid does
                        boolean havePrefix = false;
                        final Build build = model.getBuild();
                        if ( build != null &amp;&amp; build.getPlugins() != null )
                        {
                            havePrefix = setPluginGoalPrefixFromConfiguration( plugin, build.getPlugins() );
                        }
                        if ( !havePrefix &amp;&amp; build != null &amp;&amp; build.getPluginManagement() != null
                            &amp;&amp; build.getPluginManagement().getPlugins() != null )
                        {
                            havePrefix = setPluginGoalPrefixFromConfiguration( plugin,
                                                                               build.getPluginManagement().getPlugins() );
                        }
                        if ( !havePrefix &amp;&amp; artifactId.startsWith( &quot;maven-&quot; ) &amp;&amp; artifactId.endsWith( &quot;-plugin&quot; ) )
                        {
                            plugin.setPrefix(
                                StringUtils.removeStart( StringUtils.removeEnd( artifactId, &quot;-plugin&quot; ), &quot;maven-&quot; ) );
                            havePrefix = true;
                        }
                        if ( !havePrefix &amp;&amp; artifactId.endsWith( &quot;-maven-plugin&quot; ) )
                        {
                            plugin.setPrefix( StringUtils.removeEnd( artifactId, &quot;-maven-plugin&quot; ) );
                            havePrefix = true;
                        }
                        if ( !havePrefix )
                        {
                            plugin.setPrefix( artifactId );
                        }
                        plugins.add( plugin );
                        foundMetadata = true;
                        break;
                    }
                    catch ( ArtifactNotFoundException e )
                    {
                        // ignore
                    }
                    catch ( XmlPullParserException e )
                    {
                        // ignore
                    }
                    finally
                    {
                        IOUtils.closeQuietly( inputStream );
                    }
                }
            }
            if ( !plugins.isEmpty() )
            {
                metadata.setPlugins( plugins );
            }
        }
        int index = path.lastIndexOf( '/' );
        groupId = ( index == -1 ? groupId : groupId.substring( 0, index ) ).replace( '/', '.' );
        String artifactId = ( index == -1 ? null : path.substring( index + 1 ) );
        if ( artifactId != null )
        {
            Set&lt;String&gt; artifactVersions = getVersions( groupId, artifactId );
            if ( artifactVersions != null &amp;&amp; !artifactVersions.isEmpty() )
            {
                metadata.setGroupId( groupId );
                metadata.setArtifactId( artifactId );
                Versioning versioning = new Versioning();
                List&lt;String&gt; versions = new ArrayList&lt;String&gt;( artifactVersions );
                Collections.sort( versions, new VersionComparator() ); // sort the Maven way
                long lastUpdated = 0;
                for ( String version : versions )
                {
                    try
                    {
                        long lastModified = getLastModified( new Artifact( groupId, artifactId, version, &quot;pom&quot; ) );
                        versioning.addVersion( version );
                        if ( lastModified &gt;= lastUpdated )
                        {
                            lastUpdated = lastModified;
                            versioning.setLastUpdatedTimestamp( new Date( lastModified ) );
                            versioning.setLatest( version );
                            if ( !version.endsWith( &quot;-SNAPSHOT&quot; ) )
                            {
                                versioning.setRelease( version );
                            }
                        }
                    }
                    catch ( ArtifactNotFoundException e )
                    {
                        // ignore
                    }
                }
                metadata.setVersioning( versioning );
                foundMetadata = true;
            }
        }

        int index2 = index == -1 ? -1 : path.lastIndexOf( '/', index - 1 );
        groupId = index2 == -1 ? groupId : groupId.substring( 0, index2 ).replace( '/', '.' );
        artifactId = index2 == -1 ? artifactId : path.substring( index2 + 1, index );
        String version = index2 == -1 ? null : path.substring( index + 1 );
        if ( version != null &amp;&amp; version.endsWith( &quot;-SNAPSHOT&quot; ) )
        {
            Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( groupId );
            Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifactId ) );
            Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( version ) );
            if ( filesMap != null )
            {
                List&lt;SnapshotVersion&gt; snapshotVersions = new ArrayList&lt;SnapshotVersion&gt;();
                int maxBuildNumber = 0;
                long lastUpdated = 0;
                String timestamp = null;
                boolean found = false;
                for ( final Map.Entry&lt;Artifact, Content&gt; entry : filesMap.entrySet() )
                {
                    final Artifact artifact = entry.getKey();
                    final Content content = entry.getValue();
                    SimpleDateFormat fmt = new SimpleDateFormat( &quot;yyyyMMddHHmmss&quot; );
                    fmt.setTimeZone( TimeZone.getTimeZone( &quot;GMT&quot; ) );
                    String lastUpdatedTime = fmt.format( new Date( content.getLastModified() ) );
                    try
                    {
                        Maven3.addSnapshotVersion( snapshotVersions, artifact, lastUpdatedTime );
                    }
                    catch ( LinkageError e )
                    {
                        // Maven 2
                    }
                    if ( &quot;pom&quot;.equals( artifact.getType() ) )
                    {
                        if ( artifact.getBuildNumber() != null
                            &amp;&amp; maxBuildNumber &lt; artifact.getBuildNumber().intValue() )
                        {
                            maxBuildNumber = artifact.getBuildNumber().intValue();
                            timestamp = artifact.getTimestampString();
                        }
                        else
                        {
                            maxBuildNumber = Math.max( 1, maxBuildNumber );
                        }
                        lastUpdated = Math.max( lastUpdated, content.getLastModified() );
                        found = true;
                    }
                }

                if ( !snapshotVersions.isEmpty() || found )
                {
                    Versioning versioning = metadata.getVersioning();
                    if ( versioning == null )
                    {
                        versioning = new Versioning();
                    }
                    metadata.setGroupId( groupId );
                    metadata.setArtifactId( artifactId );
                    metadata.setVersion( version );
                    try
                    {
                        Maven3.addSnapshotVersions( versioning, snapshotVersions );
                    }
                    catch ( LinkageError e )
                    {
                        // Maven 2
                    }
                    if ( maxBuildNumber &gt; 0 )
                    {
                        Snapshot snapshot = new Snapshot();
                        snapshot.setBuildNumber( maxBuildNumber );
                        snapshot.setTimestamp( timestamp );
                        versioning.setSnapshot( snapshot );
                    }
                    versioning.setLastUpdatedTimestamp( new Date( lastUpdated ) );
                    metadata.setVersioning( versioning );
                    foundMetadata = true;
                }
            }

        }
        if ( !foundMetadata )
        {
            throw new MetadataNotFoundException( path );
        }
        return metadata;
    }

    /**
     * {@inheritDoc}
     */
    public synchronized long getMetadataLastModified( String path )
        throws IOException, MetadataNotFoundException
    {
        boolean haveResult = false;
        long result = 0;
        path = StringUtils.stripEnd( StringUtils.stripStart( path, &quot;/&quot; ), &quot;/&quot; );
        String groupId = path.replace( '/', '.' );
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( groupId );
        if ( artifactMap != null )
        {
            for ( Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap : artifactMap.values() )
            {
                for ( Map&lt;Artifact, Content&gt; filesMap : versionMap.values() )
                {
                    for ( Content content : filesMap.values() )
                    {
                        haveResult = true;
                        result = Math.max( result, content.getLastModified() );
                    }
                }
            }
        }
        int index = path.lastIndexOf( '/' );
        groupId = index == -1 ? groupId : groupId.substring( 0, index ).replace( '/', '.' );
        String artifactId = ( index == -1 ? null : path.substring( index + 1 ) );
        if ( artifactId != null )
        {
            artifactMap = contents.get( groupId );
            Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifactId ) );
            if ( versionMap != null )
            {
                for ( Map&lt;Artifact, Content&gt; filesMap : versionMap.values() )
                {
                    for ( Content content : filesMap.values() )
                    {
                        haveResult = true;
                        result = Math.max( result, content.getLastModified() );
                    }
                }
            }
        }
        int index2 = index == -1 ? -1 : path.lastIndexOf( '/', index - 1 );
        groupId = index2 == -1 ? groupId : groupId.substring( 0, index2 ).replace( '/', '.' );
        artifactId = index2 == -1 ? artifactId : path.substring( index2 + 1, index );
        String version = index2 == -1 ? null : path.substring( index + 1 );
        if ( version != null &amp;&amp; version.endsWith( &quot;-SNAPSHOT&quot; ) )
        {
            artifactMap = contents.get( groupId );
            Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifactId ) );
            Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( version ) );
            if ( filesMap != null )
            {
                for ( Content content : filesMap.values() )
                {
                    haveResult = true;
                    result = Math.max( result, content.getLastModified() );
                }
            }
        }
        if ( haveResult )
        {
            return result;
        }
        throw new MetadataNotFoundException( path );
    }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L91">91</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L222">222</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        Set&lt;String&gt; result = new TreeSet&lt;String&gt;();
        if ( StringUtils.isEmpty( parentGroupId ) )
        {
            for ( String groupId : contents.keySet() )
            {
                int index = groupId.indexOf( '.' );
                result.add( index == -1 ? groupId : groupId.substring( 0, index ) );
            }
        }
        else
        {
            String prefix = parentGroupId + '.';
            int start = prefix.length();
            for ( String groupId : contents.keySet() )
            {
                if ( groupId.startsWith( prefix ) )
                {
                    int index = groupId.indexOf( '.', start );
                    result.add( index == -1 ? groupId.substring( start ) : groupId.substring( start, index ) );
                }
            }
        }
        return result;
    }

    /**
     * {@inheritDoc}
     */
    public synchronized Set&lt;String&gt; getArtifactIds( String groupId )
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( groupId );
        return new TreeSet&lt;String&gt;( artifactMap == null ? Collections.&lt;String&gt; emptySet() : artifactMap.keySet() );
    }

    /**
     * {@inheritDoc}
     */
    public synchronized Set&lt;String&gt; getVersions( String groupId, String artifactId )
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( groupId );
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifactId ) );
        return new TreeSet&lt;String&gt;( versionMap == null ? Collections.&lt;String&gt; emptySet() : versionMap.keySet() );
    }

    /**
     * {@inheritDoc}
     */
    public synchronized Set&lt;Artifact&gt; getArtifacts( String groupId, String artifactId, String version )
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( groupId );
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifactId ) );
        Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( version ) );

        return new HashSet&lt;Artifact&gt;( filesMap == null ? Collections.&lt;Artifact&gt; emptySet() : filesMap.keySet() );
    }

    /**
     * {@inheritDoc}
     */
    public synchronized long getLastModified( Artifact artifact )
        throws IOException, ArtifactNotFoundException
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( artifact.getGroupId() );
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifact.getArtifactId() ) );
        Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( artifact.getVersion() ) );
        Content content = ( filesMap == null ? null : filesMap.get( artifact ) );
        if ( content == null )
        {
            if ( artifact.isSnapshot() &amp;&amp; artifact.getTimestamp() == null &amp;&amp; filesMap != null )
            {
                Artifact best = null;
                for ( Map.Entry&lt;Artifact, Content&gt; entry : filesMap.entrySet() )
                {
                    Artifact a = entry.getKey();
                    if ( artifact.equalSnapshots( a ) &amp;&amp; ( best == null || best.compareTo( a ) &lt; 0 ) )
                    {
                        best = a;
                        content = entry.getValue();
                    }
                }
                if ( content == null )
                {
                    throw new ArtifactNotFoundException( artifact );

                }
            }
            else
            {
                throw new ArtifactNotFoundException( artifact );
            }
        }
        return content.getLastModified();
    }

    /**
     * {@inheritDoc}
     */
    public synchronized long getSize( Artifact artifact )
        throws IOException, ArtifactNotFoundException
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( artifact.getGroupId() );
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifact.getArtifactId() ) );
        Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( artifact.getVersion() ) );
        Content content = ( filesMap == null ? null : filesMap.get( artifact ) );
        if ( content == null )
        {
            if ( artifact.isSnapshot() &amp;&amp; artifact.getTimestamp() == null &amp;&amp; filesMap != null )
            {
                Artifact best = null;
                for ( Map.Entry&lt;Artifact, Content&gt; entry : filesMap.entrySet() )
                {
                    Artifact a = entry.getKey();
                    if ( artifact.equalSnapshots( a ) &amp;&amp; ( best == null || best.compareTo( a ) &lt; 0 ) )
                    {
                        best = a;
                        content = entry.getValue();
                    }
                }
                if ( content == null )
                {
                    throw new ArtifactNotFoundException( artifact );

                }
            }
            else
            {
                throw new ArtifactNotFoundException( artifact );
            }
        }
        return content.getBytes().length;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\DiskArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/DiskArtifactStore.html#L182">182</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\FileSystemArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/FileSystemArtifactStore.html#L172">172</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>                    Matcher matcher = rule.matcher( file.getName() );
                    if ( !matcher.matches() )
                    {
                        return null;
                    }
                    if ( matcher.group( 1 ).equals( &quot;SNAPSHOT&quot; ) )
                    {
                        return new Artifact( groupId, artifactId, version, matcher.group( 9 ), matcher.group( 10 ) );
                    }
                    try
                    {
                        Calendar cal = new GregorianCalendar();
                        cal.setTimeZone( TimeZone.getTimeZone( &quot;GMT&quot; ) );
                        cal.set( Calendar.YEAR, Integer.parseInt( matcher.group( 2 ) ) );
                        cal.set( Calendar.MONTH, Integer.parseInt( matcher.group( 3 ) ) - 1 );
                        cal.set( Calendar.DAY_OF_MONTH, Integer.parseInt( matcher.group( 4 ) ) );
                        cal.set( Calendar.HOUR_OF_DAY, Integer.parseInt( matcher.group( 5 ) ) );
                        cal.set( Calendar.MINUTE, Integer.parseInt( matcher.group( 6 ) ) );
                        cal.set( Calendar.SECOND, Integer.parseInt( matcher.group( 7 ) ) );
                        long timestamp = cal.getTimeInMillis();
                        int buildNumber = Integer.parseInt( matcher.group( 8 ) );
                        return new Artifact( groupId, artifactId, version, matcher.group( 9 ), matcher.group( 10 ),
                                             timestamp, buildNumber );
                    }
                    catch ( NullPointerException e )
                    {
                        return null;
                    }
                }
            };
        }
        else
        {
            rule = Pattern.compile( &quot;\\Q&quot; + artifactId + &quot;\\E-\\Q&quot; + version + &quot;\\E(?:-([^.]+))?\\.(.+)&quot; );
            factory = new ArtifactFactory()
            {
                public Artifact get( File file )</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\ArtifactStoreFileSystem.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/ArtifactStoreFileSystem.html#L486">486</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\DiskArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/DiskArtifactStore.html#L186">186</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\FileSystemArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/FileSystemArtifactStore.html#L176">176</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            }
            if ( matcher.group( 1 ).equals( &quot;SNAPSHOT&quot; ) )
            {
                return new Artifact( groupId, artifactId, version, matcher.group( 9 ),
                                                  matcher.group( 10 ) );
            }
            try
            {
                Calendar cal = new GregorianCalendar();
                cal.setTimeZone( TimeZone.getTimeZone( &quot;GMT&quot; ) );
                cal.set( Calendar.YEAR, Integer.parseInt( matcher.group( 2 ) ) );
                cal.set( Calendar.MONTH, Integer.parseInt( matcher.group( 3 ) ) - 1 );
                cal.set( Calendar.DAY_OF_MONTH, Integer.parseInt( matcher.group( 4 ) ) );
                cal.set( Calendar.HOUR_OF_DAY, Integer.parseInt( matcher.group( 5 ) ) );
                cal.set( Calendar.MINUTE, Integer.parseInt( matcher.group( 6 ) ) );
                cal.set( Calendar.SECOND, Integer.parseInt( matcher.group( 7 ) ) );
                long timestamp = cal.getTimeInMillis();
                int buildNumber = Integer.parseInt( matcher.group( 8 ) );
                
                return new Artifact( groupId, artifactId, version, matcher.group( 9 ),
                                                  matcher.group( 10 ), timestamp, buildNumber );
            }
            catch ( NullPointerException e )
            {
                return null;
            }
        }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L221">221</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L350">350</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }

    /**
     * {@inheritDoc}
     */
    public synchronized InputStream get( Artifact artifact )
        throws IOException, ArtifactNotFoundException
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( artifact.getGroupId() );
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifact.getArtifactId() ) );
        Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( artifact.getVersion() ) );
        Content content = ( filesMap == null ? null : filesMap.get( artifact ) );
        if ( content == null )
        {
            if ( artifact.isSnapshot() &amp;&amp; artifact.getTimestamp() == null &amp;&amp; filesMap != null )
            {
                Artifact best = null;
                for ( Map.Entry&lt;Artifact, Content&gt; entry : filesMap.entrySet() )
                {
                    Artifact a = entry.getKey();
                    if ( artifact.equalSnapshots( a ) &amp;&amp; ( best == null || best.compareTo( a ) &lt; 0 ) )
                    {
                        best = a;
                        content = entry.getValue();
                    }
                }
                if ( content == null )
                {
                    throw new ArtifactNotFoundException( artifact );

                }
            }
            else
            {
                throw new ArtifactNotFoundException( artifact );
            }
        }
        return new ByteArrayInputStream( content.getBytes() );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L150">150</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L188">188</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L281">281</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L318">318</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L355">355</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    public synchronized long getLastModified( Artifact artifact )
        throws IOException, ArtifactNotFoundException
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( artifact.getGroupId() );
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifact.getArtifactId() ) );
        Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( artifact.getVersion() ) );
        Content content = ( filesMap == null ? null : filesMap.get( artifact ) );
        if ( content == null )
        {
            if ( artifact.isSnapshot() &amp;&amp; artifact.getTimestamp() == null &amp;&amp; filesMap != null )
            {
                Artifact best = null;
                for ( Map.Entry&lt;Artifact, Content&gt; entry : filesMap.entrySet() )
                {
                    Artifact a = entry.getKey();
                    if ( artifact.equalSnapshots( a ) &amp;&amp; ( best == null || best.compareTo( a ) &lt; 0 ) )
                    {
                        best = a;
                        content = entry.getValue();
                    }
                }
                if ( content == null )
                {
                    throw new ArtifactNotFoundException( artifact );

                }
            }
            else
            {
                throw new ArtifactNotFoundException( artifact );
            }
        }
        return content.getLastModified();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L150">150</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L188">188</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L226">226</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L281">281</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L318">318</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    public synchronized long getLastModified( Artifact artifact )
        throws IOException, ArtifactNotFoundException
    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( artifact.getGroupId() );
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = ( artifactMap == null ? null : artifactMap.get( artifact.getArtifactId() ) );
        Map&lt;Artifact, Content&gt; filesMap = ( versionMap == null ? null : versionMap.get( artifact.getVersion() ) );
        Content content = ( filesMap == null ? null : filesMap.get( artifact ) );
        if ( content == null )
        {
            if ( artifact.isSnapshot() &amp;&amp; artifact.getTimestamp() == null &amp;&amp; filesMap != null )
            {
                Artifact best = null;
                for ( Map.Entry&lt;Artifact, Content&gt; entry : filesMap.entrySet() )
                {
                    Artifact a = entry.getKey();
                    if ( artifact.equalSnapshots( a ) &amp;&amp; ( best == null || best.compareTo( a ) &lt; 0 ) )
                    {
                        best = a;
                        content = entry.getValue();
                    }
                }
                if ( content == null )
                {
                    throw new ArtifactNotFoundException( artifact );

                }
            }
            else
            {
                throw new ArtifactNotFoundException( artifact );
            }
        }
        return content.getLastModified();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L266">266</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L413">413</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    {
        Map&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt; artifactMap = contents.get( artifact.getGroupId() );
        if ( artifactMap == null )
        {
            artifactMap = new HashMap&lt;String, Map&lt;String, Map&lt;Artifact, Content&gt;&gt;&gt;();
            contents.put( artifact.getGroupId(), artifactMap );
        }
        Map&lt;String, Map&lt;Artifact, Content&gt;&gt; versionMap = artifactMap.get( artifact.getArtifactId() );
        if ( versionMap == null )
        {
            versionMap = new HashMap&lt;String, Map&lt;Artifact, Content&gt;&gt;();
            artifactMap.put( artifact.getArtifactId(), versionMap );
        }
        Map&lt;Artifact, Content&gt; filesMap = versionMap.get( artifact.getVersion() );
        if ( filesMap == null )
        {
            filesMap = new HashMap&lt;Artifact, Content&gt;();
            versionMap.put( artifact.getVersion(), filesMap );
        }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L617">617</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L753">753</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    public synchronized long getArchetypeCatalogLastModified()
        throws ArchetypeCatalogNotFoundException
    {
        if ( archetypeCatalog != null )
        {
            return archetypeCatalog.getLastModified();
        }
        else
        {
            throw new ArchetypeCatalogNotFoundException();
        }
    }
    

    /**
     * If the plugin configurations contain a reference to the &lt;code&gt;maven-plugin-plugin&lt;/code&gt; and that contains
     * configuration of the &lt;code&gt;goalPrefix&lt;/code&gt;, update the supplied plugin with that prefix.
     *
     * @param plugin        the plugin to update.
     * @param pluginConfigs the configurations of {@link org.apache.maven.model.Plugin} to search.
     * @return &lt;code&gt;true&lt;/code&gt; if the prefix has been set.
     * @since 1.0
     */
    private boolean setPluginGoalPrefixFromConfiguration( Plugin plugin, List&lt;org.apache.maven.model.Plugin&gt; pluginConfigs )
    {
        for ( org.apache.maven.model.Plugin def : pluginConfigs )
        {
            if ( ( def.getGroupId() == null || StringUtils.equals( &quot;org.apache.maven.plugins&quot;, def.getGroupId() ) )
                &amp;&amp; StringUtils.equals( &quot;maven-plugin-plugin&quot;, def.getArtifactId() ) )
            {
                Xpp3Dom configuration = (Xpp3Dom) def.getConfiguration();
                if ( configuration != null )
                {
                    final Xpp3Dom goalPrefix = configuration.getChild( &quot;goalPrefix&quot; );
                    if ( goalPrefix != null )
                    {
                        plugin.setPrefix( goalPrefix.getValue() );
                        return true;
                    }
                }
                break;
            }
        }
        return false;
    }

    /**
     * Compares two versions using Maven's version comparison rules.
     *
     * @since 1.0
     */
    private static class VersionComparator
        implements Comparator&lt;String&gt;
    {</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\ArtifactStoreFileSystem.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/ArtifactStoreFileSystem.html#L324">324</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\ArtifactStoreFileSystem.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/ArtifactStoreFileSystem.html#L491">491</a></td></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\DiskArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/DiskArtifactStore.html#L190">190</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\FileSystemArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/FileSystemArtifactStore.html#L180">180</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>                }
                try
                {
                    Calendar cal = new GregorianCalendar();
                    cal.setTimeZone( TimeZone.getTimeZone( &quot;GMT&quot; ) );
                    cal.set( Calendar.YEAR, Integer.parseInt( matcher.group( 2 ) ) );
                    cal.set( Calendar.MONTH, Integer.parseInt( matcher.group( 3 ) ) - 1 );
                    cal.set( Calendar.DAY_OF_MONTH, Integer.parseInt( matcher.group( 4 ) ) );
                    cal.set( Calendar.HOUR_OF_DAY, Integer.parseInt( matcher.group( 5 ) ) );
                    cal.set( Calendar.MINUTE, Integer.parseInt( matcher.group( 6 ) ) );
                    cal.set( Calendar.SECOND, Integer.parseInt( matcher.group( 7 ) ) );
                    long timestamp = cal.getTimeInMillis();
                    int buildNumber = Integer.parseInt( matcher.group( 8 ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\ArtifactStoreFileSystem.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/ArtifactStoreFileSystem.html#L281">281</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\ArtifactStoreFileSystem.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/ArtifactStoreFileSystem.html#L463">463</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            Matcher snapshotArtifact = SNAPSHOT_ARTIFACT.matcher( path );
            if ( snapshotArtifact.matches() )
            {
                String groupId = StringUtils.stripEnd( snapshotArtifact.group( 1 ), &quot;/&quot; ).replace( '/', '.' );
                String artifactId = snapshotArtifact.group( 2 );
                String version = snapshotArtifact.group( 3 ) + &quot;-SNAPSHOT&quot;;
                Pattern rule = Pattern.compile(
                    &quot;\\Q&quot; + artifactId + &quot;\\E-(?:\\Q&quot; + StringUtils.removeEnd( version, &quot;-SNAPSHOT&quot; )
                        + &quot;\\E-(SNAPSHOT|(\\d{4})(\\d{2})(\\d{2})\\.(\\d{2})(\\d{2})(\\d{2})-(\\d+)))(?:-([^.]+))?\\.([^/]*)&quot; );
                Matcher matcher = rule.matcher( name );
                if ( !matcher.matches() )
                {
                    String classifier = snapshotArtifact.group( 5 );
                    String type = snapshotArtifact.group( 6 );
                    if ( classifier != null )
                    {
                        classifier = classifier.substring( 1 );
                    }
                    if ( StringUtils.isEmpty( classifier ) )
                    {
                        classifier = null;
                    }
                    return new ArtifactFileEntry( this, parent,</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L744">744</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L1024">1024</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>        }
    }

    /**
     * In order to allow the use of Maven 3 methods from a plugin running in Maven 2, we need to encapsulate all the
     * Maven 3 method signatures in a separate class so that we can catch the {@link LinkageError} that will be thrown
     * when the class is attempted to load. If we didn't do it this way then our class could not load either.
     *
     * @since 1.0
     */
    private static class Maven3
    {
        /**
         * Adds a snapshot version to the list of snapshot versions.
         *
         * @param snapshotVersions the list of snapshot versions.
         * @param artifact         the artifact to add details of.
         * @param lastUpdatedTime  the time to flag for last updated.
         * @since 1.0
         */
        private static void addSnapshotVersion( List&lt;SnapshotVersion&gt; snapshotVersions, Artifact artifact, String lastUpdatedTime )
        {
            try
            {
                SnapshotVersion snapshotVersion = new SnapshotVersion();
                snapshotVersion.setExtension( artifact.getType() );
                snapshotVersion.setClassifier( artifact.getClassifier() == null ? &quot;&quot; : artifact.getClassifier() );
                snapshotVersion.setVersion( artifact.getTimestampVersion() );
                snapshotVersion.setUpdated( lastUpdatedTime );
                snapshotVersions.add( snapshotVersion );
            }
            catch ( NoClassDefFoundError e )
            {
                // Maven 2
            }
        }

        /**
         * Add the list of {@link SnapshotVersion}s to the {@link Versioning}.
         *
         * @param versioning       the versionioning to add to.
         * @param snapshotVersions the snapshot versions to add.
         * @since 1.0
         */
        private static void addSnapshotVersions( Versioning versioning, List&lt;SnapshotVersion&gt; snapshotVersions )
        {
            try
            {
                for ( SnapshotVersion snapshotVersion : snapshotVersions )
                {
                    versioning.addSnapshotVersion( snapshotVersion );
                }
            }
            catch ( NoClassDefFoundError e )
            {
                // Maven 2
            }
        }
    }
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\MemoryArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MemoryArtifactStore.html#L293">293</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\MockArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/MockArtifactStore.html#L433">433</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>    }

    /**
     * {@inheritDoc}
     */
    public synchronized Metadata getMetadata( String path )
        throws IOException, MetadataNotFoundException
    {
        Metadata metadata = new Metadata();
        boolean foundMetadata = false;
        path = StringUtils.stripEnd( StringUtils.stripStart( path, &quot;/&quot; ), &quot;/&quot; );
        String groupId = path.replace( '/', '.' );
        Set&lt;String&gt; pluginArtifactIds = getArtifactIds( groupId );
        if ( pluginArtifactIds != null )
        {
            List&lt;Plugin&gt; plugins = new ArrayList&lt;Plugin&gt;();
            for ( String artifactId : pluginArtifactIds )
            {
                Set&lt;String&gt; pluginVersions = getVersions( groupId, artifactId );
                if ( pluginVersions == null || pluginVersions.isEmpty() )
                {
                    continue;
                }
                String[] versions = (String[]) pluginVersions.toArray( new String[pluginVersions.size()] );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\ArtifactStoreFileSystem.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/ArtifactStoreFileSystem.html#L357">357</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\ArtifactStoreFileSystem.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/ArtifactStoreFileSystem.html#L511">511</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>                }
            }
            else
            {
                Matcher matcher = ARTIFACT.matcher( path );
                if ( matcher.matches() )
                {
                    String groupId = StringUtils.stripEnd( matcher.group( 1 ), &quot;/&quot; ).replace( '/', '.' );
                    String artifactId = matcher.group( 2 );
                    String version = matcher.group( 3 );
                    String classifier = matcher.group( 5 );
                    String type = matcher.group( 6 );
                    if ( classifier != null )
                    {
                        classifier = classifier.substring( 1 );
                    }
                    if ( StringUtils.isEmpty( classifier ) )
                    {
                        classifier = null;
                    }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org\codehaus\mojo\mrm\impl\maven\FileSystemArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/FileSystemArtifactStore.html#L80">80</a></td></tr>
<tr class="b">
<td>org\codehaus\mojo\mrm\impl\maven\FileSystemArtifactStore.java</td>
<td><a href="./xref/org/codehaus/mojo/mrm/impl/maven/FileSystemArtifactStore.html#L103">103</a></td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>            StringUtils.isEmpty( parentGroupId ) ? backing.getRoot() : backing.get( parentGroupId.replace( '.', '/' ) );
        if ( !( parentEntry instanceof DirectoryEntry ) )
        {
            return Collections.emptySet();
        }
        DirectoryEntry parentDir = (DirectoryEntry) parentEntry;
        Entry[] entries = backing.listEntries( parentDir );
        Set&lt;String&gt; result = new HashSet&lt;String&gt;();
        for ( int i = 0; i &lt; entries.length; i++ )
        {
            if ( entries[i] instanceof DirectoryEntry )
            {
                result.add( entries[i].getName() );
            }
        }
        return result;
    }

    /**
     * {@inheritDoc}
     */
    public Set&lt;String&gt; getArtifactIds( String groupId )</pre></div></td></tr></table></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2009&#x2013;2017
                        <a href="http://www.mojohaus.org">MojoHaus</a>.
            All rights reserved.    
      </p>
                </div>

        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>